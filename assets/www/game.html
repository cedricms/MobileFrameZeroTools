<!DOCTYPE HTML>
<html>
  <head>
    <title>Mobile Frame Zero Tools</title>
    
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    
    <script type="text/javascript" charset="utf-8" src="./js/cordova.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/jquery.i18n.properties-min-1.0.9.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/mof0.js"></script>
    <script type="text/javascript" src="./js/knockout-3.0.0.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/datamodel/frameModel.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/datamodel/companyModel.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/datamodel/gameModel.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/service/companyService.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/mof0Game.js"></script>
    
    <script type="text/javascript">
      // load I18N bundles
      jQuery(document).ready(function() {
    	initLanguages()
	  });
		
	  function loadBundles(lang) {
	    jQuery.i18n.properties({
	      name:'MoF0', 
          path:'i18n/', 
		  mode:'both',
		  language:lang, 
		  callback: function() {
        	jQuery.i18n.prop('applicationTitleMessage');
		    jQuery.i18n.prop('gameMessage');
		    document.getElementById('applicationTitle').innerHTML = getBackButtonMarkup(applicationTitleMessage) + '<span class="title">' + gameMessage + '</span>';
		    
		    jQuery.i18n.prop('roundsUntilDoomsDayMessage');
		    document.getElementById('roundsUntilDoomsDayLabel').innerHTML = roundsUntilDoomsDayMessage;
		    
		    jQuery.i18n.prop('startTimeMessage');
		    document.getElementById('startTimeLabel').innerHTML = startTimeMessage;
		    
		    jQuery.i18n.prop('nextRoundMessage');
		    document.getElementById('nextRoundButton').innerHTML='<a class="smallButton" href="Javascript:nextRound();">' + nextRoundMessage + '</a>';
		    
		    jQuery.i18n.prop('nbStationsMessage');
		    document.getElementById('nbStationsLabel').innerHTML = nbStationsMessage;
		    
	    	initGame();
	      }
	    });
	  }
    </script>
    
    <script type="text/javascript" charset="utf-8" src="./js/bootstrap.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/respond.min.js"></script>
    
    <link href="./css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="./css/mof0.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <h1 class="pageTitle" id="applicationTitle"></h1>
    <div class="pageSection">
      <div class="gameRoundsBar">
          <div class="roundsUntilDoomsDayLabel" id="roundsUntilDoomsDayLabel"></div>
          <div class="roundsUntilDoomsDay" data-bind="text: doomsdayClock"></div>
          <div class="startTimeLabel" id="startTimeLabel"></div>
          <div class="formattedStartTime" data-bind="text: formattedStartTime"></div>
          <div class="nextRoundButton pull-right" id="nextRoundButton"></div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          &nbsp;
        </div>
      </div>
      <div data-bind="foreach: companies" class="row">
        <!-- pre data-bind="text: ko.toJSON($data, null, 2)"></pre-->
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <div class="panel company-view clearfix">
            <button class="btn btn-default pull-right visible-xs" style="padding: 2rem 1rem" onclick="$(this).siblings('.frames-view').toggleClass('hidden-xs');"><span class="caret"></span></button>
            <div class="pull-right well initiative" data-bind="text: companyScore"></div>
            <h2 data-bind="text: name"></h2>
            <div class="nbStations" data-bind="text: nbStations"></div>
            <div class="nbStationsLabel" id="nbStationsLabel"></div>
            <div class="frames-view hidden-xs">
              <div data-bind="foreach: frames">
                <h3 data-bind="text: name"></h3>
                <div class="sys-panel" data-bind="visible: nbDefensive"><span data-bind="text: nbDefensive"></span> x <img src="./img/dice/Defense.png"></div>
                <div class="sys-panel" data-bind="visible: nbMovement"><span data-bind="text: nbMovement"></span> x <img src="./img/dice/Move.png"></div>
                <div class="sys-panel" data-bind="visible: nbSurveillanceCommunication"><span data-bind="text: nbSurveillanceCommunication"></span> x <img src="./img/dice/Spotting.png"></div>
                <div class="sys-panel" data-bind="visible: nbHandToHand"><span data-bind="text: nbHandToHand"></span> x <img src="./img/dice/HtH.png"></div>
                <div class="sys-panel" data-bind="visible: nbDirectFire"><span data-bind="text: nbDirectFire"></span> x <img src="./img/dice/Direct.png"></div>
                <div class="sys-panel" data-bind="visible: nbArtilleryRange"><span data-bind="text: nbArtilleryRange"></span> x <img src="./img/dice/Artillery.png"></div>
                <div class="sys-panel" data-bind="visible: nbRockets"><span data-bind="text: nbRockets"></span> x <img src="./img/dice/One-Shot Rocket.png"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <!-- script type="text/javascript">
    gameModel.updateScorePerAsset();
    alert('gameModel.updateScorePerAsset()');
  </script-->
</html>
