<!DOCTYPE HTML>
<html>
  <head>
    <title>Mobile Frame Zero Tools</title>
    
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    
    <script type="text/javascript" charset="utf-8" src="./js/cordova.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/jquery.i18n.properties-min-1.0.9.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/mof0.js"></script>
    <script type="text/javascript" src="./js/knockout-3.0.0.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/datamodel/frameModel.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/datamodel/companyModel.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/datamodel/gameModel.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/service/companyService.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/mof0Game.js"></script>
    
    <script type="text/javascript">
      // load I18N bundles
      jQuery(document).ready(function() {
    	initLanguages();
    	//$("#tabs").tab();
	  });
		
	  function loadBundles(lang) {
	    jQuery.i18n.properties({
	      name:'MoF0', 
          path:'i18n/', 
		  mode:'both',
		  language:lang, 
		  callback: function() {
        	jQuery.i18n.prop('applicationTitleMessage');
		    jQuery.i18n.prop('gameMessage');
		    document.getElementById('applicationTitle').innerHTML = getBackButtonMarkup(applicationTitleMessage) + '<span class="title">' + gameMessage + '</span>';
		    
		    jQuery.i18n.prop('roundsUntilDoomsDayMessage');
		    document.getElementById('roundsUntilDoomsDayLabel').innerHTML = roundsUntilDoomsDayMessage;
		    
		    jQuery.i18n.prop('startTimeMessage');
		    document.getElementById('startTimeLabel').innerHTML = startTimeMessage;
		    
		    jQuery.i18n.prop('nextRoundMessage');
		    document.getElementById('nextRoundButton').innerHTML='<a class="smallButton" href="Javascript:nextRound();">' + nextRoundMessage + '</a>';
		    
		    jQuery.i18n.prop('damageChartRemindersMessage');
		    document.getElementById('damageChartRemindersLabel').innerHTML = damageChartRemindersMessage;
		    
		    jQuery.i18n.prop('nbStationsMessage');
		    document.getElementById('nbStationsLabel').innerHTML = nbStationsMessage;
		    
		    jQuery.i18n.prop('handToHandAttacksMessage');
		    document.getElementById('handToHandAttacksLabel').innerHTML='<a href="#handToHandAttacksTab" data-toggle="tab">' + handToHandAttacksMessage + '</a>';
		    
		    jQuery.i18n.prop('rangedAttackNoCoverMessage');
		    document.getElementById('rangedAttackNoCoverLabel').innerHTML='<a href="#rangedAttackNoCoverTab" data-toggle="tab">' + rangedAttackNoCoverMessage + '</a>';
		    
		    jQuery.i18n.prop('rangedAttackNormalCoverMessage');
		    document.getElementById('rangedAttackNormalCoverLabel').innerHTML='<a href="#rangedAttackNormalCoverTab" data-toggle="tab">' + rangedAttackNormalCoverMessage + '</a>';
		    
		    jQuery.i18n.prop('rangedAttackCoveredByMobileFrameMessage');
		    document.getElementById('rangedAttackCoveredByMobileFrameLabel').innerHTML='<a href="#rangedAttackCoveredByMobileFrameTab" data-toggle="tab">' + rangedAttackCoveredByMobileFrameMessage + '</a>';
		    
		    jQuery.i18n.prop('attacksAgainstTerrainMessage');
		    document.getElementById('attacksAgainstTerrainLabel').innerHTML='<a href="#attacksAgainstTerrainTab" data-toggle="tab">' + attacksAgainstTerrainMessage + '</a>';
		    
	    	initGame();
	      }
	    });
	  }
    </script>
    
    <script type="text/javascript" charset="utf-8" src="./js/bootstrap.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="./js/respond.min.js"></script>
    
    <link href="./css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="./css/mof0.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <h1 class="pageTitle" id="applicationTitle"></h1>
    <div class="pageSection">
      <div class="gameRoundsBar">
          <div class="roundsUntilDoomsDayLabel" id="roundsUntilDoomsDayLabel"></div>
          <div class="roundsUntilDoomsDay" data-bind="text: doomsdayClock"></div>
          <div class="startTimeLabel" id="startTimeLabel"></div>
          <div class="formattedStartTime" data-bind="text: formattedStartTimeAndDelta"></div>
          <div class="nextRoundButton pull-right" id="nextRoundButton"></div>
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#damageChartRemindersModal"><div id="damageChartRemindersLabel"></div></button>
      </div>
      <div id="damageChartRemindersModal" class="modal fade">
		  <div class="modal-dialog">
		      <div class="modal-content">
		          <!-- dialog body -->
		          <div class="modal-body">
		              <button type="button" class="close" data-dismiss="modal">&times;</button>
		              <ul class="nav nav-tabs">
  						  <li class="active"><div id="handToHandAttacksLabel" /></li>
  						  <li><div id="rangedAttackNoCoverLabel" /></li>
  						  <li><div id="rangedAttackNormalCoverLabel" /></li>
  						  <li><div id="rangedAttackCoveredByMobileFrameLabel" /></li>
  						  <li><div id="attacksAgainstTerrainLabel" /></li>
  					  </ul>
  					  <div class="tab-content">
	    		      	  <div class="tab-pane active" id="handToHandAttacksTab">
	                          <img src="./img/damage/handToHandAttacks.png" />
	                      </div>
	    		      	  <div class="tab-pane" id="rangedAttackNoCoverTab">
	                          <img src="./img/damage/rangedAttackNoCover.png" />
	                      </div>
	    		      	  <div class="tab-pane" id="rangedAttackNormalCoverTab">
	                          <img src="./img/damage/rangedAttackNormalCover.png" />
	                      </div>
	    		      	  <div class="tab-pane" id="rangedAttackCoveredByMobileFrameTab">
	                          <img src="./img/damage/rangedAttackCoveredByMobileFrame.png" />
	                      </div>
	    		      	  <div class="tab-pane" id="attacksAgainstTerrainTab">
	                          <img src="./img/damage/attacksAgainstTerrain.png" />
	                      </div>
	                  </div>	
		          </div>
		  	  </div>
		  </div>
	  </div>
      <div id="endOfGameModal" class="modal fade">
		  <div class="modal-dialog">
		      <div class="modal-content">
		          <!-- dialog body -->
		          <div class="modal-body">
		          	  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                  <button type="button" class="close" data-dismiss="modal">&times;</button>
		              </div>
		              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                  <div class="startTimeLabel" id="startTimeLabel"></div>
                          <div class="startTime" data-bind="text: formattedStartTime"></div>
                      </div>	
		          </div>
		  	  </div>
		  </div>
	  </div>
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          &nbsp;
        </div>
      </div>
      <div data-bind="foreach: companies" class="row">
        <!-- pre data-bind="text: ko.toJSON($data, null, 2)"></pre-->
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <div class="panel company-view clearfix">
            <button class="btn btn-default pull-right visible-xs" style="padding: 2rem 1rem" onclick="$(this).siblings('.frames-view').toggleClass('hidden-xs');"><span class="caret"></span></button>
            <div class="pull-right well initiative" data-bind="text: companyScore"></div>
            <h2 data-bind="text: name"></h2>
            <div class="nbStations" data-bind="text: nbStations"></div>
            <div class="nbStationsLabel" id="nbStationsLabel"></div>
            <button class="addStation" data-bind="click: addStation" type="button">&nbsp;</button>
            <button class="removeStation" data-bind="click: removeStation" type="button">&nbsp;</button>
            <div class="frames-view hidden-xs">
              <div data-bind="foreach: frames">
                <h3 data-bind="text: name"></h3>
                <div class="frameSystem" data-bind="visible: nbWild"><span data-bind="text: nbWild"></span> x <img src="./img/dice/Wild.png"><button class="systemDamage" data-bind="click: removeWild" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollWild" type="button">&nbsp;&nbsp;</button><div data-bind="css: wildValue1Css">&nbsp;</div><div data-bind="css: wildValue2Css">&nbsp;</div></div>
                <div class="frameSystem" data-bind="visible: nbDefensive"><span data-bind="text: nbDefensive"></span> x <img src="./img/dice/Defense.png"><button class="systemDamage" data-bind="click: removeDefensive" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollDefensive" type="button">&nbsp;&nbsp;</button><div data-bind="css: defensiveValue1Css">&nbsp;</div><div data-bind="css: defensiveValue2Css">&nbsp;</div></div>
                <div class="frameSystem"><span data-bind="text: nbMovement"></span> x <img src="./img/dice/Move.png"><button class="systemDamage" data-bind="click: removeMovement" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollMovement" type="button">&nbsp;&nbsp;</button><div data-bind="css: movementValue1Css">&nbsp;</div><div data-bind="css: movementValue2Css">&nbsp;</div><div data-bind="css: movementValue3Css">&nbsp;</div></div>
                <div class="frameSystem" data-bind="visible: nbSurveillanceCommunication"><span data-bind="text: nbSurveillanceCommunication"></span> x <img src="./img/dice/Spotting.png"><button class="systemDamage" data-bind="click: removeSurveillanceCommunication" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollSurveillanceCommunication" type="button">&nbsp;&nbsp;</button><div data-bind="css: surveillanceCommunicationValue1Css">&nbsp;</div><div data-bind="css: surveillanceCommunicationValue2Css">&nbsp;</div></div>
                <div class="frameSystem" data-bind="visible: nbHandToHand"><span data-bind="text: nbHandToHand"></span> x <img src="./img/dice/HtH.png"><button class="systemDamage" data-bind="click: removeHandToHand" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollHandToHand" type="button">&nbsp;&nbsp;</button><div data-bind="css: handToHandValue1Css">&nbsp;</div><div data-bind="css: handToHandValue2Css">&nbsp;</div><div data-bind="css: handToHandValue3Css">&nbsp;</div></div>
                <div class="frameSystem" data-bind="visible: nbDirectFire"><span data-bind="text: nbDirectFire"></span> x <img src="./img/dice/Direct.png"><button class="systemDamage" data-bind="click: removeDirectFire" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollDirectFire" type="button">&nbsp;&nbsp;</button><div data-bind="css: directFireValue1Css">&nbsp;</div><div data-bind="css: directFireValue2Css">&nbsp;</div><div data-bind="css: directFireValue3Css">&nbsp;</div></div>
                <div class="frameSystem" data-bind="visible: nbArtilleryRange"><span data-bind="text: nbArtilleryRange"></span> x <img src="./img/dice/Artillery.png"><button class="systemDamage" data-bind="click: removeArtilleryRange" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollArtilleryRange" type="button">&nbsp;&nbsp;</button><div data-bind="css: artilleryRangeValue1Css">&nbsp;</div><div data-bind="css: artilleryRangeValue2Css">&nbsp;</div><div data-bind="css: artilleryRangeValue3Css">&nbsp;</div></div>
                <div class="frameSystem" data-bind="visible: nbRockets"><span data-bind="text: nbRockets"></span> x <img src="./img/dice/One-Shot Rocket.png"><button class="systemDamage" data-bind="click: removeRockets" type="button">&nbsp;&nbsp;</button><button class="rollingDice" data-bind="click: rollRockets" type="button">&nbsp;&nbsp;</button><div data-bind="css: rocketsValue1Css">&nbsp;</div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <!-- script type="text/javascript">
    gameModel.updateScorePerAsset();
    alert('gameModel.updateScorePerAsset()');
  </script-->
</html>
